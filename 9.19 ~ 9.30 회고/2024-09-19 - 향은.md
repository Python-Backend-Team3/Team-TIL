### 2024-09-19 회고
#### 회고 목표: 오늘 배운 내용 정리

### 테스트 주도 개발 방법론

#### 테스트 주도 개발 개요
- Test-Driven Development, TDD
- 코드를 작성하기 전, 테스트 케이스를 먼저 작성하는 방식(소프트웨어 개발 방법론 중 하나)
  - 개발 과정을 짧은 반복 주기로 나눔
  - 각 주기마다 사용자의 요구 사항을 테스트 케이스로 변환함
  - 코드를 개선해 나감
- 전기전자학회(IEEE)에서 발행된 연구 논문에 따르면 아래와 같음
| TDD는 익스트림 프로그래밍 개발 프로세스의 기본 관행 중 하나
- 에자일 방법론 중 하나인 익스트림 프로그래밍의 Test-First 개념을 기반으로 둔 단순한 설계를 중요시 함

##### 애자일 방법론
- 신속한 반복 작업을 통해 실제 작동 가능한 소프트웨어를 개발하여 지속적으로 제공하기 위한 소프트웨어 개발 방식
- 작동하는 소프트웨어의 작은 구성 요소를 신속하게 제공 -> 고객의 만족도를 개선하는 것이 핵심임
- 적응형 접근 방식, 팀워크를 활용한 지속적인 개발에 중점을 둠
- 소프트웨어 개발에 필요한 작업을 알려주는 일련의 규정이 아님
- 협업과 워크플로우를 바라보는 하나의 관점, 우리가 무엇을 어떻게 만들지에 관한 선택을 안내하는 가치 체계를 가리킴

##### 익스트리밍 프로그래밍(eXtream Programming, XP)
- 미래에 대한 예측을 최대한 하지 않고, 지속적으로 프로토타입을 완성하는 애자일 방법론 중 하나
- 이 방법론은 추가 요구사항이 생기더라도 실시간 반영이 가능함

##### 테스트 주도 개발 목적
- 코드의 품질 향상
- 유지보수 용이
- 개발자의 생산성 향상에 도움
- 설계 오류 초기에 발견 -> 수정 지원 가능
- 개발 과정에서의 오류, 리스크 감소

**즉, TDD는 실패하는 테스트 케이스를 먼저 작성하고 테스트를 통과하기 위한 최소한의 코드만을 작성하는 것이다.**

#### TDD의 적용 단계
##### 실패하는 테스트 작성
- 구현할 기능에 대해 작은 단위의 테스트 케이스를 먼저 작성
- 요구사항을 충족시키지 못하는 케이스를 작성
- 이 단계에서는 기능이 어떻게 동작해야 하는지 명확히 정의함 -> 개발해야 할 기능의 명세서 역할 수행

##### 테스트를 통과하는 코드 작성
- 최소한의 코드 작성
- 코드의 품질이 아닌 통과하는 것에 집중함

##### 리팩토링
- 테스트 통과한 코드 개선
- 코드의 품질 향상에 집중함
  - 코드의 가독성 향상
  - 중복된 코드 제거
  - 필요 시 설계 개선
  - 유지보수성 개선

위 단계를 반복하여 점진적으로 코드를 개선함

#### TDD 장단점
##### 장점
- 코드가 작성되기 전 테스트가 준비 -> 코드 작성 후 바로 피드백 가능
- 개발 과정에서의 버그 사전 예방 가능
- 리스크 감소
- 개발자의 생산성 향상 기여
- 코드 품질을 높일 수 있음
- 유지보수 용이

##### 단점
- TDD를 적용하는 데에 시간과 노력 필요
- 초기 학습 곡선이 가파를 수 있음
- 생산성의 저하
  - 개발 속도가 느려진다고 생각하는 사람이 많음(처음부터 2개의 코드를 짜야함+중간중간 테스트 과정 거침)
  - TDD 방식의 개발 시간은 일반적 개발 방식에 비해 10~30% 증가함
  - SI 프로젝트에서는 소프트웨어 품질보다 납기일 준수가 훨씬 중요
- 사전 경험이 중요함
- 기존 개발 방식의 변경 요구됨
- 구조에 얽매임

**개발자는 TDD에 대한 지속적인 학습과 실습을 통해 이 방법론을 자신의 개발 과정에 효과적으로 통합해야 한다.**
그렇다고 TDD를 무조건 해야 하는 것음 아님. 프로그래머는 하나의 프로젝트를 완성하는데 걸리는 예상 일정과 자원을 고려해야 하므로 이에 따라 사용할 지 말지 결정


#### 일반 개발 방식 vs TDD 개발 방식
##### 일반 개발 방식
- 개발 주기
  - 요구사항 분석 -> 설계 -> 개발 -> 테스트 -> 배포

![image](https://github.com/user-attachments/assets/3af8bfa7-2add-4bf6-9497-cf0b459e2f3e)

##### TDD 개발 방식
- 개발 주기
  - 디자인(설계) -> 테스트 코드 작성 -> 코드 개발 -> 리팩토링 -> 반복
![image](https://github.com/user-attachments/assets/6a4bc0d2-bf32-4ce0-8111-3f1e6155ac91)
- Bad Smell의 예
  - 중복 코드: 동일한 코드 구조가 여러 곳에 반복되는 경우
  - 긴 메서드: 너무 길고 많은 일을 하는 메서드
  - 큰 클래스: 너무 많은 책임을 가진 클래스
  - 기능 질투: 다른 클래스에 더 관심이 많은 메서드
  - 데이터 덩어리: 함께 전달되는 경향이 있는 데이터 그룹
- Bad Smell을 해결하기 위해서는 리팩토링이 필요함
  - 리팩토링: 코드의 외부 동작을 변경하지 않으면서 내부 구조를 개선하여 가독성을 높이고 복잡성을 줄이며 유지보수를 쉽게 만드는 과정

#### 테스트 주도 개발 세부 흐름
- 단위 테스트 작성 -> 단위 테스트 실행 -> 운영 코드 작성 -> 단위 테스트 실행 -> 설계 개선(리팩토링) -> 단위 테스트 -> 실행 반복
![image](https://github.com/user-attachments/assets/e1beb10b-6678-42a7-b9d7-fa3e52b6021b)


##### 단위 테스트
- 인수 테스트의 단점을 보완하는 검증 방식(인수 테스트: 배치된 시스템을 대상으로 검증하는 방식)
- 시스템의 일부를 대상으로 기능을 검증하는 테스트
- 전체 시스템을 배치해놓고 진행x -> 비용이 상대적으로 낮은 편
- 인수 테스트와 비교해서, 단위 안에서 버그가 있다는 걸 상대적으로 자세히 알 수 있음
- 전체 시스템의 이상 여부를 판단하는 신뢰도는 낮아짐
