# 데이터 모델의 종류

데이터 모델은 현실 세계를 다양한 방식으로 표현할 수 있으며, 그에 따라 여러 가지 유형이 존재합니다. 주요 데이터 모델에는 다음과 같은 종류가 있습니다.

## 1. 계층적 데이터 모델 (Hierarchical Data Model)
- **구조**: 상위 및 하위 레코드 간의 트리(Tree) 구조를 사용하여 데이터를 구성합니다.
- **관계**: 각 자식 레코드는 하나의 부모만 가질 수 있으며, 일대다(1:N) 관계로 모델링됩니다.
- **특징**: 단순한 구조, 빠른 데이터 접근.
- **제한**: 복잡한 다대다(N:N) 관계를 표현하기 어려움.

## 2. 네트워크 데이터 모델 (Network Data Model)
- **구조**: 계층적 모델의 확장된 형태로, 하위 레코드를 여러 상위 레코드에 연결하여 다대다(N:N) 관계로 모델링할 수 있습니다.
- **특징**: 복잡한 관계 표현 가능, 유연성 높음.
- **제한**: 구조가 복잡하고, 관리가 어려움.

## 3. 개체-관계형 데이터 모델 (Entity-Relationship Data Model)
- **구조**: 시스템의 데이터 요소(개체, 속성)와 이들 간의 관계를 정의하는 상위 수준의 데이터 모델입니다.
- **특징**: 직관적 표현, 설계 및 분석에 유용.
- **제한**: 물리적 데이터베이스 구현에 추가적인 변환이 필요.

## 4. 관계형 데이터 모델 (Relational Data Model)
- **구조**: 데이터는 테이블(릴레이션)의 형태로 구성되며, 각 테이블은 행(레코드)과 열(필드)로 이루어져 있습니다.
- **특징**: 강력한 이론적 기반, 널리 사용됨.
- **제한**: 복잡한 객체와 관계를 표현하는 데 제한적.

## 5. 차원 데이터 모델 (Dimensional Data Model)
- **구조**: 주로 데이터웨어하우스와 OLAP 시스템에서 사용되며, 팩트 테이블과 차원 테이블로 구성됩니다.
- **특징**: 데이터 분석에 최적화, 높은 성능.
- **제한**: 실시간 트랜잭션 처리에는 부적합.

## 6. 객체지향 데이터 모델 (Object-Oriented Data Model)
- **구조**: 객체지향 프로그래밍의 개념을 데이터베이스 설계에 적용한 모델로, 데이터는 객체로 표현됩니다.
- **특징**: 복잡한 데이터 구조 표현 가능, 재사용성 높음.
- **제한**: 관계형 모델에 비해 복잡함, 널리 사용되지 않음.

## 7. 그래프 데이터 모델 (Graph Data Model)
- **구조**: 노드(개체)와 에지(관계)를 사용하여 데이터를 그래프 형태로 표현합니다.
- **특징**: 복잡한 관계 표현에 적합, 유연성 높음.
- **제한**: 데이터베이스 관리가 복잡할 수 있음.

## 8. 벡터 데이터 모델 (Vector Data Model)
- **구조**: 자연어 처리나 GIS에서 사용되는 모델로, 데이터를 점, 선, 다각형으로 표현하여 공간 정보를 관리합니다.
- **특징**: 공간 데이터의 정밀한 표현.
- **제한**: 비공간 데이터 표현에 적합하지 않음.

## 데이터 정의어 (DDL)

데이터 정의어(Data Definition Language, DDL)는 데이터베이스에서 테이블, 인덱스, 뷰와 같은 객체를 생성, 수정, 삭제하는 명령어입니다.

- **CREATE**: 데이터베이스, 테이블, 뷰, 인덱스 등 새로운 객체를 생성합니다.
- **ALTER**: 기존 객체를 수정합니다.
- **DROP**: 객체를 삭제합니다.

```
-- 데이터베이스 생성
CREATE DATABASE 데이터베이스명;

-- 테이블 생성
CREATE TABLE 테이블명 (
    컬럼1 데이터타입 제약조건,
    컬럼2 데이터타입 제약조건,
    ...
);

-- 테이블 수정
ALTER TABLE 테이블명 ADD COLUMN 새컬럼 데이터타입;

-- 테이블 삭제
DROP TABLE 테이블명;
```

## 데이터타입

데이터베이스에서 사용하는 데이터타입은 데이터를 저장할 때 필요한 공간과 형식을 정의합니다. 주요 데이터타입은 다음과 같습니다:

### 문자형 데이터타입
- **CHAR**: 고정 길이 문자형 데이터타입.
- **VARCHAR**: 가변 길이 문자형 데이터타입.
- **TEXT**: 긴 텍스트 데이터를 저장하는 데이터타입.

### 숫자형 데이터타입
- **정수형**: `TINYINT`, `SMALLINT`, `INT`, `BIGINT` 등.
- **실수형**: `FLOAT`, `DOUBLE`, `DECIMAL` 등.

### 날짜시간형 데이터타입
- **DATE**: 날짜만 저장.
- **TIME**: 시간만 저장.
- **DATETIME**: 날짜와 시간을 함께 저장.
- **TIMESTAMP**: 날짜와 시간을 시간대와 함께 저장.

### 이진형 데이터타입
- **BINARY**: 고정 길이 이진 데이터 저장.
- **VARBINARY**: 가변 길이 이진 데이터 저장.
- **BLOB**: 큰 이진 객체 저장.

### 공간형 데이터타입
- **GEOMETRY**: 공간 데이터를 저장하며, `POINT`, `LINESTRING`, `POLYGON` 등으로 세분화됩니다.

## 제약조건

제약조건은 데이터의 무결성을 유지하기 위해 설정하는 규칙입니다. 주요 제약조건은 다음과 같습니다:

- **PRIMARY KEY**: 테이블의 각 레코드를 유일하게 식별하는 키.
- **NOT NULL**: 컬럼에 `NULL` 값을 허용하지 않음.
- **UNIQUE**: 컬럼의 값이 유일해야 함을 보장.
- **CHECK**: 특정 조건을 만족해야 함을 정의.
- **DEFAULT**: 값이 입력되지 않을 경우 기본 값을 설정.
- **FOREIGN KEY**: 다른 테이블의 기본키를 참조하여 데이터 무결성을 보장.

```sql
-- 기본키 제약조건 설정
CREATE TABLE 테이블명 (
    컬럼명 데이터타입 PRIMARY KEY
);

-- NOT NULL 제약조건 설정
ALTER TABLE 테이블명 MODIFY 컬럼명 데이터타입 NOT NULL;

-- UNIQUE 제약조건 설정
CREATE TABLE 테이블명 (
    컬럼명 데이터타입 UNIQUE
);

-- FOREIGN KEY 제약조건 설정
ALTER TABLE 자식테이블 ADD CONSTRAINT fk_부모 FOREIGN KEY (부모컬럼) REFERENCES 부모테이블(부모컬럼);
```

## 뷰 (VIEW)
- 뷰는 하나 이상의 테이블을 기반으로 생성된 가상의 테이블입니다. 물리적으로 데이터를 저장하지 않고, 쿼리 결과를 가상 테이블로 제공합니다.

- 장점
  - 데이터 중복성 최소화
  - 데이터 보안성 강화
  - 간편한 데이터 접근
  - 데이터 가상화 제공

```
-- 뷰 생성
CREATE VIEW 뷰명 AS
SELECT 컬럼1, 컬럼2
FROM 테이블명
WHERE 조건;

-- WITH CHECK OPTION 사용 예
CREATE VIEW 뷰명 AS
SELECT 컬럼1, 컬럼2
FROM 테이블명
WHERE 조건
WITH CHECK OPTION;
```
## 인덱스 (Index)
- 인덱스는 데이터베이스 테이블에서 검색 성능을 향상시키기 위해 사용됩니다.

### 기본 인덱스 (Primary Index)
- 클러스터형 인덱스이며, 테이블의 기본키에 대해 행 데이터가 정렬됩니다.
### 보조 인덱스 (Secondary Index)
- 비클러스터형 인덱스이며, 기본 인덱스 이외의 인덱스입니다.

 ```
 -- 기본 인덱스 생성
CREATE TABLE 테이블명 (
    컬럼1 데이터타입 PRIMARY KEY
);

-- 보조 인덱스 생성
CREATE INDEX 인덱스명 ON 테이블명 (컬럼명);
 ```
## 옵티마이저 (Optimizer)
- MySQL의 옵티마이저는 쿼리를 가장 효율적으로 실행하기 위한 계획을 세우는 역할을 합니다. 테이블 크기, 인덱스 품질, 통계 정보 등을 기반으로 실행 계획을 결정합니다.

 ```
-- EXPLAIN 사용 예
EXPLAIN SELECT * FROM 테이블명 WHERE 조건;

-- EXPLAIN ANALYZE 사용 예
EXPLAIN ANALYZE SELECT * FROM 테이블명 WHERE 조건;
 ```
## 윈도우 함수 (Window Function)
- 윈도우 함수는 OLAP(Online Analytical Processing)에서 데이터를 분석할 때 유용한 함수입니다. 특정 행의 분석을 위해 결과 집합을 나누고 정렬할 수 있습니다.

- 집계 윈도우 함수
    - SUM(), AVG(), COUNT(), MIN(), MAX() 등
- 순위 윈도우 함수
    - RANK(), DENSE_RANK(), ROW_NUMBER()
- 행 순서 윈도우 함수
    - FIRST_VALUE(), LAST_VALUE(), LAG(), LEAD(), NTH_VALUE()
 
 ```
  -- 집계 윈도우 함수 예
SELECT 고객번호, AVG(마일리지) OVER(PARTITION BY 도시) AS 도시평균마일리지
FROM 고객;

-- 순위 윈도우 함수 예
SELECT 고객번호, 마일리지, RANK() OVER(ORDER BY 마일리지 DESC) AS 순위
FROM 고객;

-- 행 순서 윈도우 함수 예
SELECT 고객번호, 마일리지, FIRST_VALUE(마일리지) OVER(ORDER BY 마일리지) AS 최소마일리지
FROM 고객;
 ```
# 데이터 모델링

## 정의
데이터 모델링은 현실 세계의 **엔티티(개체)**, **속성**, **관계**를 분석하고 이를 데이터 모델로 변환하는 과정입니다.

## 목적
데이터 모델링 과정에서는 비즈니스 요구사항을 이해하고 데이터 요구사항을 수집하며, 데이터의 구조와 관계를 정의하고 문서화합니다.

## 방법론
데이터 모델링은 체계적인 방법론을 사용하여 데이터 모델의 설계, 개발, 유지보수를 진행합니다. 이 과정은 데이터베이스 설계와 밀접하게 관련되며, 데이터베이스 시스템의 성능, 효율성, 유지보수 용이성에 중요한 영향을 미칩니다.

## 데이터 모델링 프로세스

### 1. 요구사항 분석
- **정의**: 데이터 모델링의 시작 단계로, 시스템 또는 응용 프로그램에서 필요한 사용자 및 시스템의 요구사항을 정의하고 문서화합니다.
- **주요 산출물**:
  - 요구사항 분석서: 시스템 요구사항을 상세히 기술한 문서
  - 인터뷰 기록 문서: 사용자 또는 이해관계자와의 인터뷰 내용을 기록한 문서

### 2. 개념적 데이터 모델링 (Conceptual Data Modeling)
- **정의**: 요구사항 분석 결과를 바탕으로 개념적 데이터 모델을 구축하는 단계입니다. 이 단계에서는 특정 DBMS와 독립적인 개념적 스키마를 기술하며, 업무 중심적이고 포괄적인 수준의 모델링을 수행합니다.
- **중점 사항**:
  - 엔티티와 관계 위주의 모델링을 통해 전반적인 골격을 파악
  - 주요 엔티티, 주요 속성, 식별자와의 관계 도출
  - 개념적 스키마로 표현된 결과를 ERD(Entity-Relationship Diagram) 등으로 시각화
- **속성 도출**:
  - 속성(Attribute): 엔티티 집합에 포함되는 최소의 데이터 단위
  - 각 엔티티는 각 속성에 대해 단일 속성값을 가짐
- **식별자 도출**:
  - 식별자(Identifier): 각 엔티티를 구분할 수 있는 속성 또는 속성의 집합
  - 엔티티 집합은 반드시 식별자를 가짐
- **관계 도출**:
  - 관계(Relationship): 엔티티 간의 관련성을 의미하며, 존재 관계와 행위 관계로 구분
    - **존재 관계(Existence Relationship)**: 두 엔티티 간의 소속이나 소유 관계
      - 예: 사원과 가족, 학과와 학생, 은행과 계좌
    - **행위 관계(Behavioral Relationship)**: 두 엔티티 간의 상호작용이나 동작의 관계
      - 예: 교수와 학생, 고객과 주문
  - **관계의 카디널리티(Cardinality, Degree)**: 두 테이블 간의 관계에서 대응수를 의미
    - 종류: 일대일(1:1), 일대다(1:N), 다대일(N:1), 다대다(N:N)
  - **관계 이름(Membership)**: 객체 간의 관계가 맺어지는 형태
  - **관계 시작점(The Beginning)**: 관계가 시작되는 엔티티
  - **관계 끝점(The End)**: 관계가 끝나는 엔티티
  - **관계 선택 사양(Optionality)**:
    - **선택적(Optional) 참여 관계**: 두 엔티티 간의 관계가 선택적으로 존재 가능
    - **필수적(Mandatory) 참여 관계**: 두 엔티티 간에 관계가 반드시 존재해야 함
- **ERD 표기법 기호**:
  - 엔티티: 직사각형
  - 관계: 마름모
  - 속성: 타원형
  - 식별자: 타원형에 밑줄
- **IE 방식 표기법 기호**:
  - 엔티티: 직사각형
  - 관계: 선으로 연결된 다이아몬드
  - 카디널리티:
    - 1:1 관계: | |
    - 1:N 관계: | <
    - N:N 관계: < <

### 3. 논리적 데이터 모델링 (Logical Data Modeling)
- **정의**: 개념적 데이터 모델을 더욱 상세하게 정의하고, 개발에 사용하는 특정 DBMS에 적합한 모델로 변환하는 단계입니다.
- **변환 규칙**:
  - 모든 엔티티는 릴레이션으로 변환
  - **일대일 관계(1:1)**와 **일대다 관계(1:N)**는 외래키로 표현
  - **다대다 관계(N:N)**는 릴레이션으로 변환
- **식별 관계와 비식별 관계**:
  - **식별 관계**: 부모 릴레이션의 기본키가 자식 릴레이션의 기본키의 일부로 사용되는 관계
  - **비식별 관계**: 부모 릴레이션의 기본키가 자식 릴레이션의 기본키에 포함되지 않는 관계


